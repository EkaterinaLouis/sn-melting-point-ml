# 基于相图网格的 Sn 系多元合金熔点机器学习预测  
**Machine Learning Prediction of Melting Point for Sn‑Based Multicomponent Alloys from Phase‑Map Grids**

**作者 / Author:** _Your Name_  
**日期 / Date:** 2025‑MM‑DD  
**代码仓库 / Repo:** `sn-melting-point-ml`

> **说明**：本 README 将 **GUI 使用与界面**放在最前面（最直观）。  
> 两张 GUI 截图请放在仓库的 `docs/` 目录，并命名为：  
> `docs/gui-no-normalize.png` 与 `docs/gui-normalize.png`（下文已内嵌引用）。

---

## GUI 一目了然 / GUI at a Glance

**当前版本（不做归一化）**  
- 支持高精度小数输入；程序**不修改你的输入**，仅在“提示行”显示当前输入和（不做归一化）。  
- 点击“预测”后，左侧结果仅显示 **预测值 Pred** 与 **已有值 Data**（若原始数据中能匹配到则显示数值；否则显示“没有数据”）。  
- 右侧嵌入模型在测试集上的 **Pred vs Actual** 散点图；下方展示评估指标（从 `outputs/metrics.json` 读取）。

![GUI（不做归一化）](GUI界面（显示已有数据的样本）.png)

**旧版/分支示例（带“归一化到1”按钮）**  
- 若你在某个分支启用了“归一化到 1”，点击后会把当前 12 个输入按比例缩放到**严格和=1**，再进行预测与匹配。  
- 当你手里是**配比**或**不严格和=1**的数时，这一模式更容易匹配到原表中的“已有值 Data”。

![GUI（归一化示例）](GUI界面.png)

---

## GUI 详细说明 / Detailed GUI Guide

### 1) 输入区（12 个元素分数）
- 对应 12 个元素：`Ag, Al, Au, Bi, Cu, Ga, In, Ni, Pb, Sb, Sn, Zn`。  
- **高精度输入**：GUI 内部用 `Decimal` 解析字符串，支持长小数与科学计数法（如 `1e-5`），并对**中文/全角标点**做清洗（如把 `，` 视作 `.`）。  
- **不做归一化**（当前默认）：你输入多少就按多少计算；仅在下方“提示行”显示当前输入和（例如 `1.000000`），**不会修改你的输入**。  
- “填入示例”按钮会快速填入一个 Sn‑主的示例配方。

> **提示**：训练数据中的 12 个分数是**和=1**的“原子分数”。如果你输入的不是分数（比如是配比或和≠1），模型仍会输出结果，但与训练分布存在偏差；“已有值 Data”也更难匹配到。

### 2) 结果面板（Pred / Data）
- **Pred**：模型预测的 `T_melt`（单位与数据集一致）。  
- **Data**：在 `SnMeltingPoint.xlsx` 内进行**稳健回查**：  
  1) 先用 **±0.005** 的公差在 12 维上逐元素匹配；  
  2) 若找不到，把两边都**四舍五入到 4 位小数**再匹配；  
  3) 再找不到，**四舍五入到 2 位**再匹配（与训练时 0.01 分组一致）；  
  4) 找到候选后，只看 `Phase` 含 “LIQUID” 的行，取**最小温度**作为“已有值”。  
- 若仍未匹配到，显示“（没有数据）”。这通常意味着该成分并不在相图网格点上，或者该成分在给定温度范围内未出现液相。

### 3) 评估面板（来自 `outputs/metrics.json`）
- 展示：**MAE**、**RMSE**、**R²**、`n_train / n_test / n_features`。  
- 这是在**严格留出测试集**上的指标，与你屏幕右侧的散点图一致：  
